
packages:
  #####################
  test-environment: ##
  ###################
    environment:
      variables:
        PYTHONPATH: '{process.bcore_directory}'
        
  maya:
    requires: test-environment
    
  nuke:
    requires: test-environment
    
  katana:
    requires: test-environment

  python:
    version: '2.6'
    root_paths:
      - '/usr/bin'
      - 'c:\Python{packages.python.version.major}{packages.python.version.minor}'
    executable: python
    
  py-program:
    # Use python's executable as ours
    requires: test-environment
    executable_alias: python
    python_paths: '{process.bcore_directory}/bprocess/tests'
    import_modules: delegate
    delegate: TestCommunicatorDelegate
    arguments:
      # Just for testing ...
      prepend:
        - -c
      append:
        - from bprocess.tests.test_base import TestCommand; TestCommand().execute()
      
  py-program-overrides:
    # A python program to receive overrides of the context before starting the program
    requires: py-program
    # tests recursive resolution of executable alias
    executable_alias: py-program
    # tests overrides to be handled correclty
    delegate: TestOverridesDelegate
    # everything else is inherited by the base, the program itself is not interesting
    
  nosetests:
    # default nosetest starter
    executable_alias: python 
    requires:
      # for all the requirements (for testing, remove the following line and list
      # module requirements manually
      - test-environment
    arguments:
      # Just for testing ...
      prepend:
        - -c
        - import nose; import sys; nose.main(argv = ['nosetests'] + sys.argv[1:])
  hub:
    python:
      import:
        bprocess.gui
